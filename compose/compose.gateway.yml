services:
  gateway:
    image: dariomr8/apigw:latest
    labels:
      - app=apigw
      - metrics_scrape=true
      - metrics_path=/actuator/prometheus
      - metrics_port=8080
    restart: unless-stopped
    networks:
      - backend
    expose:
      - "8080"
    depends_on:
      - lab-home
      - api-stress-test
      - ichiro-family-tree
      - shortly
      - ichiro-walks
      - htmx-demo
      - wordle-duel-service
      - wordle-duel
    read_only: true
